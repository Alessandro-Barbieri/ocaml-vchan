<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>1-A (vchan.Vchan.Endpoint.Make.1-A)</title><link rel="stylesheet" href="../../../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../../index.html">vchan</a> &#x00BB; <a href="../../../index.html">Vchan</a> &#x00BB; <a href="../../index.html">Endpoint</a> &#x00BB; <a href="../index.html">Make</a> &#x00BB; 1-A</nav><h1>Parameter <code>Make.1-A</code></h1></header><dl><dt class="spec type" id="type-port"><a href="#type-port" class="anchor"></a><code><span class="keyword">type</span> port</code></dt><dd><p>an identifier for a source of events. Ports are allocated by calls to <code>listen</code>, then exchanged out-of-band (typically by xenstore) and finally calls to <code>connect</code> creates a channel between the two domains. Events are send and received over these channels.</p></dd></dl><div><div class="spec include"><div class="doc"><dl><dt class="spec value" id="val-sexp_of_port"><a href="#val-sexp_of_port" class="anchor"></a><code><span class="keyword">val</span> sexp_of_port : <a href="index.html#type-port">port</a> <span>&#45;&gt;</span> Ppx_sexp_conv_lib.Sexp.t</code></dt></dl></div></div></div><dl><dt class="spec value" id="val-port_of_string"><a href="#val-port_of_string" class="anchor"></a><code><span class="keyword">val</span> port_of_string : string <span>&#45;&gt;</span> <span>[ <span>`Ok of <a href="index.html#type-port">port</a></span> <span><span>| `Error</span> of string</span> ]</span></code></dt><dt class="spec value" id="val-string_of_port"><a href="#val-string_of_port" class="anchor"></a><code><span class="keyword">val</span> string_of_port : <a href="index.html#type-port">port</a> <span>&#45;&gt;</span> string</code></dt></dl><dl><dt class="spec type" id="type-channel"><a href="#type-channel" class="anchor"></a><code><span class="keyword">type</span> channel</code></dt><dd><p>a channel is the connection between two domains and is used to send and receive events.</p></dd></dl><div><div class="spec include"><div class="doc"><dl><dt class="spec value" id="val-sexp_of_channel"><a href="#val-sexp_of_channel" class="anchor"></a><code><span class="keyword">val</span> sexp_of_channel : <a href="index.html#type-channel">channel</a> <span>&#45;&gt;</span> Ppx_sexp_conv_lib.Sexp.t</code></dt></dl></div></div></div><dl><dt class="spec type" id="type-event"><a href="#type-event" class="anchor"></a><code><span class="keyword">type</span> event</code></dt><dd><p>an event notification received from a remote domain. Events contain no data and may be coalesced. Domains which are blocked will be woken up by an event.</p></dd></dl><div><div class="spec include"><div class="doc"><dl><dt class="spec value" id="val-sexp_of_event"><a href="#val-sexp_of_event" class="anchor"></a><code><span class="keyword">val</span> sexp_of_event : <a href="index.html#type-event">event</a> <span>&#45;&gt;</span> Ppx_sexp_conv_lib.Sexp.t</code></dt></dl></div></div></div><dl><dt class="spec value" id="val-initial"><a href="#val-initial" class="anchor"></a><code><span class="keyword">val</span> initial : <a href="index.html#type-event">event</a></code></dt><dd><p>represents an event which 'fired' when the program started</p></dd></dl><dl><dt class="spec value" id="val-recv"><a href="#val-recv" class="anchor"></a><code><span class="keyword">val</span> recv : <a href="index.html#type-channel">channel</a> <span>&#45;&gt;</span> <a href="index.html#type-event">event</a> <span>&#45;&gt;</span> <span><a href="index.html#type-event">event</a> Lwt.t</span></code></dt><dd><p><code>recv channel event</code> blocks until the system receives an event newer than <code>event</code> on channel <code>channel</code>. If an event is received while we aren't looking then this will be remembered and the next call to <code>after</code> will immediately unblock. If the system is suspended and then resumed, all event channel bindings are invalidated and this function will fail with Generation.Invalid</p></dd></dl><dl><dt class="spec value" id="val-send"><a href="#val-send" class="anchor"></a><code><span class="keyword">val</span> send : <a href="index.html#type-channel">channel</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>send channel</code> sends an event along <code>channel</code>, to another domain which will be woken up</p></dd></dl><dl><dt class="spec value" id="val-listen"><a href="#val-listen" class="anchor"></a><code><span class="keyword">val</span> listen : int <span>&#45;&gt;</span> <a href="index.html#type-port">port</a> * <a href="index.html#type-channel">channel</a></code></dt><dd><p><code>listen domid</code> allocates a fresh port and event channel. The port may be supplied to <code>connect</code></p></dd></dl><dl><dt class="spec value" id="val-connect"><a href="#val-connect" class="anchor"></a><code><span class="keyword">val</span> connect : int <span>&#45;&gt;</span> <a href="index.html#type-port">port</a> <span>&#45;&gt;</span> <a href="index.html#type-channel">channel</a></code></dt><dd><p><code>connect domid port</code> connects an event channel to <code>port</code> on <code>domid</code></p></dd></dl><dl><dt class="spec value" id="val-close"><a href="#val-close" class="anchor"></a><code><span class="keyword">val</span> close : <a href="index.html#type-channel">channel</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>close channel</code> closes this side of an event channel</p></dd></dl></div></body></html>